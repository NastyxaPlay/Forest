{"version":3,"file":"utils.js","sourceRoot":"","sources":["../../src/utils/utils.ts"],"names":[],"mappings":"AAGA,OAAO,EAAE,oBAAoB,EAAE,qBAAqB,EAAE,MAAM,UAAU,CAAC;AACvE,OAAO,EAAE,QAAQ,EAAE,MAAM,OAAO,CAAC;AAEjC,MAAM,UAAU,YAAY,CAAC,IAAwB;IACnD,OAAO,IAAI;QACT,EAAE,KAAK,CAAC,YAAY,CAAC;QACrB,EAAE,GAAG,CAAC,CAAC,KAAK,EAAE,EAAE,CAAC,KAAK,CAAC,OAAO,CAAC,GAAG,EAAE,EAAE,CAAC,CAAC,IAAI,EAAE,CAAC;AACnD,CAAC;AAED,MAAM,UAAU,kBAAkB,CAAC,IAAY,EAAE,MAAc;IAC7D,MAAM,UAAU,GAAG,YAAY,CAAC,IAAI,CAAC,CAAC;IACtC,MAAM,aAAa,GAAG,CAAC,GAAW,EAAE,KAAa,EAAU,EAAE;QAC3D,MAAM,SAAS,GAAG,KAAK,CAAC,OAAO,CAAC,GAAG,EAAE,EAAE,CAAC,CAAC;QACzC,IAAI,CAAC,MAAM,CAAC,SAAS,CAAC,EAAE;YACtB,MAAM,IAAI,KAAK,CAAC,qBAAqB,SAAS,yBAAyB,IAAI,EAAE,CAAC,CAAC;SAChF;QACD,OAAO,GAAG,CAAC,OAAO,CAAC,KAAK,EAAE,MAAM,CAAC,SAAS,CAAW,CAAC,CAAC;IACzD,CAAC,CAAC;IACF,OAAO,UAAU,CAAC,MAAM,CAAC,aAAa,EAAE,IAAI,CAAC,CAAC;AAChD,CAAC;AAED,MAAM,UAAU,eAAe,CAAC,KAAkB,EAAE,gBAA0B,EAAE;IAC9E,OAAO;QACL,KAAK;QACL,KAAK,EAAE,KAAK,CAAC,OAAO,CAAC,MAAM,CAAC,CAAC,CAAC,KAAK,CAAC,OAAO,CAAC,KAAK,CAAC,OAAO,CAAC,MAAM,GAAG,CAAC,CAA6C,CAAC,CAAC,CAAC,SAAS;QAC7H,aAAa,EAAE,aAAa;KAC7B,CAAC;AACJ,CAAC;AAED,MAAM,UAAU,YAAY,CAAC,QAAkB;IAC7C,OAAO,QAAQ,CAAC,KAAK,IAAI,oBAAoB,IAAI,QAAQ,CAAC,KAAK,CAAC;AAClE,CAAC;AAED,MAAM,UAAU,aAAa,CAAC,QAAkB;IAC9C,OAAO,QAAQ,CAAC,KAAK,IAAI,qBAAqB,IAAI,QAAQ,CAAC,KAAK,CAAC;AACnE,CAAC;AAED,MAAM,UAAU,SAAS;IACvB,MAAM,oBAAoB,GAAG,EAAE,CAAC;IAChC,MAAM,sBAAsB,GAAG,CAAC,CAAC;IACjC,MAAM,SAAS,GAAG,CAAC,CAAC;IACpB,OAAO,IAAI,CAAC,MAAM,EAAE,CAAC,QAAQ,CAAC,oBAAoB,CAAC,CAAC,SAAS,CAAC,sBAAsB,EAAE,sBAAsB,GAAG,SAAS,CAAC,CAAC;AAC5H,CAAC;AAED,MAAM,UAAU,cAAc,CAAC,gBAAuD;IACpF,OAAO,gBAAgB,CAAC,WAAW,IAAI,gBAAgB,CAAC,IAAI,IAAI,WAAW,CAAC;AAC9E,CAAC;AAED,MAAM,UAAU,cAAc;IAC5B,MAAM,CAAC,EAAE,QAAQ,CAAC,GAAG,QAAQ,CAAC,CAAC,CAAC,CAAC;IAEjC,OAAO,GAAG,EAAE;QACV,QAAQ,CAAC,IAAI,CAAC,GAAG,EAAE,CAAC,CAAC;IACvB,CAAC,CAAC;AACJ,CAAC","sourcesContent":["import { AgnosticRouteMatch, Location, Params, RouterState } from '@remix-run/router';\nimport { RouteContextObject } from '../contexts';\nimport { PageInternal } from '../type';\nimport { STATE_KEY_SHOW_MODAL, STATE_KEY_SHOW_POPOUT } from '../const';\nimport { useState } from 'react';\n\nexport function getParamKeys(path: string | undefined): string[] {\n  return path\n    ?.match(/\\/:[^\\/]+/g)\n    ?.map((param) => param.replace('/', '')) ?? [];\n}\n\nexport function fillParamsIntoPath(path: string, params: Params): string {\n  const parameters = getParamKeys(path);\n  const paramInjector = (acc: string, param: string): string => {\n    const paramName = param.replace(':', '');\n    if (!params[paramName]) {\n      throw new Error(`Missing parameter ${paramName} while building route ${path}`);\n    }\n    return acc.replace(param, params[paramName] as string);\n  };\n  return parameters.reduce(paramInjector, path);\n}\n\nexport function getRouteContext(state: RouterState, panelsHistory: string[] = []): RouteContextObject {\n  return {\n    state,\n    match: state.matches.length ? state.matches[state.matches.length - 1] as AgnosticRouteMatch<string, PageInternal> : undefined,\n    panelsHistory: panelsHistory,\n  };\n}\n\nexport function isModalShown(location: Location): boolean {\n  return location.state && STATE_KEY_SHOW_MODAL in location.state;\n}\n\nexport function isPopoutShown(location: Location): boolean {\n  return location.state && STATE_KEY_SHOW_POPOUT in location.state;\n}\n\nexport function createKey() {\n  const allNumbersAndLetters = 36;\n  const positionAfterZeroAnDot = 2;\n  const keyLength = 7;\n  return Math.random().toString(allNumbersAndLetters).substring(positionAfterZeroAnDot, positionAfterZeroAnDot + keyLength);\n}\n\nexport function getDisplayName(WrappedComponent: {displayName?: string; name?: string}) {\n  return WrappedComponent.displayName || WrappedComponent.name || 'Component';\n}\n\nexport function useForceUpdate() {\n  const [, setState] = useState(0);\n\n  return () => {\n    setState(Date.now());\n  };\n}\n"]}